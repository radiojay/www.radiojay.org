{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Open-source lighweight bird trackers with radio.","text":"<p>The RadioJay project explores the feasibility of DIY open-source lightweight tracking tags with radio transmission for tracking birds. The primary goal is to be able to experiment with new technologies in order to enable new ornithological research in bird migration or other activities.</p> <p>The tags section describes the RadioJay tags made so far. The \"A\" seriers contains an altimeter and accelerometer and transmits the barometric pressure in a Motus compatible format. The \"G\" series explores the use of a GPS, storing the data on-board for later transmission via radio.</p> <p>The whitepapers section has short articles describing the various aspects of designing and making the tags.</p>"},{"location":"#aos-2024-poster","title":"AOS 2024 Poster","text":"<p>Online version of the information for the poster presented at the American Ornithological Society annual meeting 2024.</p>"},{"location":"about/","title":"About","text":"<p>The RadioJay project explores the feasibility of \"DIY\"/open-source lightweight tracking tags with radio transmission for tracking birds. The primary goal is to be able to experiment with new technologies in order to enable new ornithological research in bird migration or other activities.</p>"},{"location":"about/#goals","title":"Goals","text":"<ul> <li>Tag weight around 1 gram, depending on features, sub-gram is possible, in others   the power requirements may make it impossible with current technology.</li> <li>Compatibility with the Motus Wildlife tracking system where   practical and beneficial, but also attempt to inform where new technologies could enhance Motus.</li> <li>Support for sensors, including accelerometer, altimeter, and light meter.</li> <li>Ability to store and pre-process sensor data on-board.</li> <li>Solar battery recharge with sophisticated energy management.</li> <li>Multiple radio technologies, including FSK, LoRa, LoRaWAN, possibly NB-IoT.</li> <li>Transmission of live data as well as uploading of stored/recorded data</li> <li>Support GNSS in both standalone mode as well as snapshot/cloud processing mode.</li> <li>Compatibility with readily available manufacturing services, including low-cost low-volume.</li> </ul>"},{"location":"about/#contact","title":"Contact","text":"<p>For more info please contact Thorsten von Eicken: tve at voneicken dot com.</p>"},{"location":"related/","title":"Related Work","text":"<p>Every project stands on the shoulders of great projects that preceded it. This section refers to some of the related projects and works that provided inspiration and reference. It is an annotated bibliography not an exhaustive academic list of references.</p> <p>Characterisation of a new lightweight LoRaWAN GPS bio-logger and deployment on griffon vultures Gyps fulvus, Gauld, J., Atkinson, P.W., Silva, J.P. et al. Anim Biotelemetry 11, 17 (2023). https://doi.org/10.1186/s40317-023-00329-y</p> <p>The tracking of griffon vultures using LoRaWAN GPS bio-loggers can be described as doing almost everything that RadioJay tags are attempting, except that the actually deployed tags weighted several grams. The description of the system mentions the option of using public LoRaWAN networks (The Things Network specifically) but for the vulture tracking private stations were deployed, most likely due to lack of TTN coverage. Technical details are unfortunately not available and the tags made by Miromico have all but disappeared from their web site.</p> <p>Micro-sized open-source and low-cost GPS loggers below 1 g minimise the impact on animals while collecting thousands of fixes, Wild TA, Koblitz JC, Dechmann DKN, Dietz C, Meboldt M, et al. PLOS ONE 17(6) (June 2022): e0267730. https://doi.org/10.1371/journal.pone.0267730</p> <p>The TickTag project is a DIY GPS biologger that is fully open source and invites anyone to make their own. Is is an inspiring example for making all details of the project available. It is also one of the lightest weight DYI trackers coming in at 0.65 grams without battery or housing (which alas add significant weight). The project also makes the design files for a programming board available which rounds everything out. The sources for hardware and software are available at https://github.com/trichl/TickTagOpenSource</p> <p>Vildehaye: A Family of Versatile, Widely-Applicable, and Field-Proven Lightweight Wildlife Tracking and Sensing Tags, S. Toledo et al., 2022 21st ACM/IEEE International Conference on Information Processing in Sensor Networks (IPSN), Milano, Italy, 2022, pp. 1-14, https://doi.org/10.1109/IPSN54338.2022.00008</p> <p>The Videhaye project has produced a whole array of bird tags that work together with the ATLAS TDOA (time difference of arrival) localization system. The tags are modular and sensors can be added, the data being downloaded via radio link. The engineering os very nicely done and a number of papers describe various aspects, but unfortunately nothing is open source. The project also produced a very interesting paper about what happens when tiny batteries are overloaded by the power demands of radio transmission: The Secret Lives of Miniature Batteries</p> <p>Mobile-BAT\u2014A Novel Ultra-Low Power Wildlife Tracking System, Erhardt S, Koch M, Kiefer A, Veith M, Weigel R, Koelpin A. Sensors. 2023; 23(11):5236. https://doi.org/10.3390/s23115236</p> <p>The Mobile-BAT project built very lightweight tags to track bats using cellular GSM stations to determine location. The tags make ingenious use of an integrated radio IC as SDR (software defined radio) to decode the cell station IDs of GSM stations. When the bats return to roost the tags download the data to a nearby station via radio link.</p> <p>Activity and migratory flights of individual free-flying songbirds throughout the annual cycle: method and first case study, B\u00e4ckman, J., Andersson, A., Alerstam, T., Pedersen, L., Sj\u00f6berg, S., Thorup, K. and T\u00f8ttrup, A.P. (2017), J Avian Biol, 48: 309-319. https://doi.org/10.1111/jav.01068</p> <p>This study as well as several others by the same principal author use bio-loggers with accelerometers to record the activity of birds through a full migration cycle. The papers describe the methodology for recording the actograms in detail allowing the RadioJay to use the same or a very similar methodology.</p> <p>Energy Consumption Analysis of LPWAN Technologies and Lifetime Estimation for IoT Application, Singh RK, Puluckul PP, Berkvens R, Weyn M. Sensors. 2020; 20(17):4794. https://doi.org/10.3390/s20174794</p> <p>This paper has a very detailed analysis of the energy consumption of several Low-Power Wide-Area networks, including LoRaWAN as well as NB-Iot. It supports the case that LoRaWAN is the most appropriate choice for ultra-lighteight tags at this point in time and characterizes where NB-IoT becomes a better choice: basically when transferring larger amounts of data.</p> <p>Gould, L.A., Manning, A.D., McGinness, H.M. et al. A review of electronic devices for tracking small and medium migratory shorebirds, Anim Biotelemetry 12, 11 (2024). https://doi.org/10.1186/s40317-024-00368-z</p> <p>This review describes the state of the art in commercially available GPS trackers for small birds.</p> <p>Three-dimensional tracking of a wide-ranging marine predator: flight heights and vulnerability to offshore wind farms, Cleasby, I.R., Wakefield, E.D., Bearhop, S., Bodey, T.W., Votier, S.C. and Hamer, K.C. (2015), J Appl Ecol, 52: 1474-1482. https://doi.org/10.1111/1365-2664.12529</p> <p>Interesting tracking of birds around wind farms and an inspiration for the RadioJay altimeter tags. Some of the examples of dives show that a logger must be able to provide high temporal resolution of rapid altitude changes otherwise critical data will not be captured. This is part of what makes purely real-time data transmission for this type of study questionable and also puts into question whether GPS tags can reliably record this type of event.</p>"},{"location":"aos-2024/","title":"AOS 2024 Poster","text":"<p>Poster presented at the 2024 American Ornithological Society Annual Meeting. Note that the whitepapers section has expanded versions of the information in the poster.</p> <p>For online reading the three columns of the poster are reproduced below.</p> <p></p> <p></p> <p></p>"},{"location":"tags/","title":"RadioJay tags","text":""},{"location":"tags/#altimeter-tags","title":"Altimeter tags","text":""},{"location":"tags/#radiojay-a2-aka-mostag-v2","title":"RadioJay A2 (aka Mostag V2)","text":"<p>The first tag, RadioJay A2 (\"Altimeter\"), was developed in the context of tracking birds using Motus around offshore wind farms where flight altitude is of prime interest. The tag is compatible with the CTT 434Mhz radio technology deployed in Motus and extends the packets to include live air pressure information, from which flight altitude can be calculated.</p> <p>This specific version is the second prototype with the primary goal to produce a tag that weighs 1 gram all-included (entire tag and leg loop harness). In order to produce a dozen tags at low cost a flexible PCB substrate was used, which is very thin and thus light-weight. The flexibility was expected to be an issue but seemed like a worthwhile experiment to see whether it's unworkable or not. The tags can be stiffened using a little epoxy and fiberglass.</p> <p>The tags include a 32 bit microcontroller, FSK radio, pressure sensor, accelerometer, rechargeable battery, and solar cell.</p>"},{"location":"tags/#radiojay-a1-aka-mostag-v1","title":"RadioJay A1 (aka Mostag V1)","text":"<p>The RadioJay A1 tag is the very first prototype to test the various components. It uses a standard 1.6mm thick PCB which is way too heavy and all components are on one side for easy testing with the intent that the components on one half would get \"folded under\" to the other side on the next version, which is what happened for RadioJay A2.</p>"},{"location":"tags/#gps-tags","title":"GPS tags","text":"<p>The RadioJay G1 tag is a first prototype to evaluate GPS performance and feasibility.</p>"},{"location":"tags/#low-cost-motus-test-tags","title":"Low-Cost Motus test tags","text":"<p>The following tags are not part of the RadioJay series in that they use commercial boards but they are similarly open-source and designed to help Motus users with a little DIY.</p>"},{"location":"tags/#motus-ctt-lotek-test-tag","title":"Motus CTT + Lotek test tag","text":"<p>The Motus CTT + Lotek test tag turns a low-cost off-the-shelf microcontroller test board into a test tag for Motus. It emits both CTT and Lotek \"beeps\" and helps test proper station operation when setting one up. It also works as permanent monitoring tag when left in the vicinity of a station.</p>"},{"location":"tags/radiojay-a1/","title":"RadioJay A1 Prototype","text":"<p>Altimeter and accelerometer tag prototype with Motus compatible radio transmission</p> <p> The RadioJay A1 prototype served to test:</p> <ul> <li>STM32 microcontroller with FSK radio</li> <li>Solar cell performance</li> <li>Rechargeable LiMn coin cell battery performance</li> <li>Energy harvesting circuit</li> <li>RF circuitry</li> <li>Accelerometer</li> </ul> <p>It was designed to have a circuit layout that approximates a tag but with the bottom components (battery and solar cell) folded flat to make everything more accessible for testing purposes. A row of pin headers provides easy access to signals and a (heavy) chip antenna avoids a long antenna wire.</p>"},{"location":"tags/radiojay-a1/#issues-found","title":"Issues found","text":""},{"location":"tags/radiojay-a1/#insatisfactory-battery-performance","title":"Insatisfactory battery performance","text":"<p>The battery chemistry, while having excellent power density, does not have the capability to power radio transmissions. This necessitates the use of a large capacitor to attempt to power the radio from the capacitor. However, this still places too high a current on the battery with the effect of reducing the usable battery capacity and leading to likely premature battery failure. The net result is that a different battery chemistry was chosen for the next tag version.</p>"},{"location":"tags/radiojay-a1/#start-up-issues","title":"Start-up issues","text":"<p>While testing what happens if the battery is discharged below ~1.7V it was discovered that the solar charging has difficulties recharging the battery. The cause was tracked down to a misbehavior of a switching voltage regulator in the microcontroller that oscillates between about 1.65V and 1.68V and causes excessive power consumption. At the same time, the energy harvesting circuit is still in a bootstrap mode and cannot overcome the power consumption. A solution was found by increasing some capacitors, which may reduce low light energy harvesting performance but avoid a dead tag.</p>"},{"location":"tags/radiojay-a2/","title":"RadioJay A2 Specifications","text":"<p>One gram tag with altimeter, accelerometer, and extended Motus radio transmission</p> <p>Background: the V2 tag was produced with two primary goals: to validate the integration of all the components and to prove the ability to meet a 1 gram target. It is a prototype produced on a minimal budget and as such it is expected to have problems, i.e., \"room for improvement\".</p>"},{"location":"tags/radiojay-a2/#features","title":"Features","text":"<ul> <li>Extended Motus/CTT compatible tag transmitting digitally coded presence and barometer data, optionally also animal activity data</li> <li>Solar power with rechargeable battery for \"infinite\" lifetime</li> <li>Highly configurable transmission data (instantaneous as well as past data)</li> <li>Highly configurable transmission intervals based on battery level, solar power, animal activity level, and approximate time-of-day.</li> <li>Sophisticated energy management to ensure any consumption is productive (no partial transmissions, for example).</li> <li>Four 1.5mm through holes at the corners for mounting.</li> <li>Target weight 1g</li> </ul>"},{"location":"tags/radiojay-a2/#hardware","title":"Hardware","text":"<ul> <li>Motus/CTT compatible 434Mhz FSK radio</li> <li>Transmission output power up to 10dBm</li> <li>Barometer with ~10cm resolution</li> <li>3-axis accelerometer</li> <li>Rechargeable 2mWh battery with 4mW solar cell</li> <li>Weight with antenna excl harness: about 1 gram (depends on conformal coating thickness, assumes 0.2mm dia, 16-17cm long nitinol antenna)</li> <li>Dimensions: 38mm x 14mm x 4.5mm (excl antenna)</li> </ul> <p>Left: Lower side of tag, laying on top of programmer. Right: Upper side of tag with battery and solar, inserted into programmer.</p>"},{"location":"tags/radiojay-a2/#cost","title":"Cost","text":"<p>The cost for the PCBs and the components in qty 10 comes to less than $30. The tags shown were hand soldered/assembled. A batch of 50-100 tags could be ordered with assembly for about the same per-unit price, leaving hand soldering of the battery, solar cell, and antenna.</p>"},{"location":"tags/radiojay-a2/#modes-of-operation","title":"Modes of operation","text":""},{"location":"tags/radiojay-a2/#simple-modes","title":"Simple modes","text":"<ul> <li> <p>CTT presence: identical to CTT tag operation: transmit ID (\"TX5\") every N seconds</p> </li> <li> <p>Altimeter mode: measure and transmit altimeter data (pressure + temperature, \"TX11\") every N seconds</p> </li> <li> <p>Altimeter history mode: same as altimeter mode but also include altimeter values for previous 1..3 intervals to compensate for  missed transmissions (\"TX18\")</p> </li> <li> <p>Altimeter summary mode: same as altimeter mode, but also include summary data for a longer span, such as min/max/avg over past M minutes, or altitude bands visited in past M minutes (\"TX18\")</p> </li> </ul>"},{"location":"tags/radiojay-a2/#adaptive-modes","title":"Adaptive modes","text":"<ul> <li> <p>battery adaptive: Reduce TX frequency when battery drops below 20% (\"less data is better than no data\"); increase TX frequency when battery is full</p> </li> <li> <p>activity adaptive: Reduce TX frequency when animal is resting; increase TX frequency and/or send special packets upon special event detection (e.g. dive)</p> </li> <li> <p>pressure adaptive: Reduce TX frequency at uninteresting altitudes/pressures; send special packets after rapid pressure changes (e.g. before/after pressures, rate of climb, \u2026)</p> </li> <li> <p>data adaptive: Reduce TX frequency when the data stays within a band; increase TX frequency or send special packets when data crosses into another band</p> </li> <li> <p>time adaptive: Modify TX frequency based on (approximate) time of day</p> </li> </ul> <p>Notes:</p> <ul> <li>\"Special packets\" could contain data different from standard ones, such as pressure before and after a dive, or time spent in previous pressure band when crossing into another one</li> <li>Adaptive modes and simple modes can be combined to create a program appropriate for the research objectives.</li> </ul>"},{"location":"tags/radiojay-a2/#power-budget","title":"Power budget","text":"<p>The following power specifications are intended to provide supporting data for configuring tags in a way that maximizes the data ultimately received. </p>"},{"location":"tags/radiojay-a2/#power-production","title":"Power production","text":"<ul> <li>battery capacity: 6J (Joules = Watt-seconds)</li> <li>full-sun recharge empty-full: ~2-2.5 hours</li> <li>25% sun recharge: (TBD)</li> </ul>"},{"location":"tags/radiojay-a2/#power-consumption-by-operation","title":"Power consumption by operation","text":"Operation Energy consumed (preliminary!) Qty per charge (approx) Sleep 0.6J per day 10 days TX5 @5dBm 126\u00b5J ea 47k TX5 @10dBm 149\u00b5J ea 40k TX11 @5dBm 209\u00b5J ea 27k TX11 @10dBm 248\u00b5J ea 24k TX18 @5dBm 307\u00b5J ea 19k TX18 @10dBm 364\u00b5J ea 16k Barometer measurement 80\u00b5J ea 75k Accelerometer measurement 10\u00b5J ea? Wake-up overhead 10\u00b5J ea? <ul> <li>TX5: 5-byte CTT transmission (tag ID only)</li> <li>TX11: 11-byte transmission of TX5 plus barometer, temperature, battery level</li> <li>TX18: 18-byte transmission of TX11 plus recent or summary data</li> </ul>"},{"location":"tags/radiojay-a2/#power-consumption-by-operational-modes","title":"Power consumption by operational modes","text":"<p>NOTE: these values assume zero solar recharge!</p> Mode of operation Qty per charge per charge at 10s interval TX5 @10dBm \"CTT\" 44k 122 hours TX11 @5dBm 20k 55 hours TX11 @10dBm 17k 47 hours TX18 @5dBm 15k 41 hours TX18 @10dBm 13k 36 hours"},{"location":"tags/radiojay-a2/#alternative-configurations","title":"Alternative configurations","text":""},{"location":"tags/radiojay-a2/#battery","title":"Battery","text":"<p>The LTO battery used weighs 0.16g and has very high discharge capability in order to reliably support high power transmission. While a smaller 0.12g model exists it is not practical. However, slightly larger (and heavier) models can be fitted.</p> <p>The tag could be redesigned around a primary (non-rechargeable) battery. This would eliminate the solar cell and energy harvesting circuit (~25% of PCB area for the latter) for some additional weight savings, primarily in PCB weight. As long as the battery voltage is between 1.8V and 3.6V no new voltage regulator circuit is required. From specs, a primary lithium battery has roughly 10x the energy density (Joules per gram) of the LTO battery and zinc-air roughly 20x, however, commercially available sub 1 gram batteries cannot source the current required for data transmission resulting in reduced actual capacity and often early failure, i.e., the tradeoff is complicated.</p>"},{"location":"tags/radiojay-a2/#weight-reduction","title":"Weight reduction","text":"<p>This tag was designed to a 1 gram target weight and uses a FlexPCB substrate (which is very economical in small qty but has its issues). It also uses components of a size that can be hand-assembled. A 100-unit run using automated assembly could shrink the tag to the size of the solar cell (12x18mm) and reduce the weight (excl. harness) to 0.7-0.8g. Lighter weights would require a different solar cell or a primary battery.</p>"},{"location":"tags/radiojay-g1/","title":"RadioJay G1 Prototype","text":"<p>GPS+radio tag prototype to test different GPS devices and solar cell options</p> <p> The RadioJay G1 prototype serves to test:</p> <ul> <li>U-Blox M10 GPS</li> <li>IXSOLAR solar cell performance</li> <li>E-Peas AEM energy harvesting IC</li> </ul> <p>to be continued...</p>"},{"location":"whitepapers/","title":"RadioJay Whitepapers","text":"<ul> <li>Ultra-lightweight GPS bird tags describes the tradeoffs   made to arrive at sub-gram birds trackers with GPS.</li> <li>Manufacturing tags and costs describes how the RadioJay tags   can be manufactured.</li> <li>Motus tags that collect data looks into the options for adding sensors that   collect data to Motus tags and how this data can later be transmitted to Motus stations.</li> <li>Proposal for extending the CTT packet format in order to add data   to each transmission in a backwards-compatible manner.</li> </ul>"},{"location":"whitepapers/Motus-data-tags/","title":"Motus tags that collect data","text":"<p>The majority of Motus tags transmit an ID at a fixed interval, typically between 2 and 25 seconds. The main piece of information that can be deduced from these transmissions is the presence of the tagged animal in the radio range of the receiver at a specific moment in time. Some additional information may be able to be gleaned from signal strength, sequence of directional antennas that detect the tag, and overall duration of the detections.</p>"},{"location":"whitepapers/Motus-data-tags/#adding-some-sensor-data-onto-transmissions","title":"Adding some sensor data onto transmissions","text":"<p>It is tempting to complement the ID with additional data, this would allow the reception of a transmission to convey more information. One example of additional data is explored in a project focusing on tracking birds around offshore wind farms where the plan is to add a pressure sensor to tags and transmit the barometric pressure together with the tag ID.</p> <p>The issue with just tacking some data onto the transmission is that the data will only be collected for the transmissions that are received by some station. In the case of the offshore wind farms this is likely to work out because stations will be placed on turbines, the flight altitude is of most interest near these turbines, and the probability of  uninterrupted reception is high. Essentially, the data transmitted near stations is of the highest interest and has the highest chance of being received.</p> <p>The wind farm project seems to be a rather special case where stations can be placed right where the data is of highest interest and the obstruction-free ocean facilitates very predictable radio coverage. However, most bird studies that collect sensor data in addition to location make use of continuous data sets for their analysis. For example, tracking the activity pattern over days to deduce flight duration, speed, as well as stop-over periods. This type of continuous data is also used to calculate energy expenditure. Altitude profiles are used to understand how migrating birds navigate changing weather conditions as well as land profiles, e.g. mountain ranges, and how northbound and southbound migrations differ.</p> <p>Tacking some data onto the current tag ID transmissions cannot support this type of study. For example, a tag with a 5-second transmission interval sends out more than 3 million data points over the course of 6 months, yet, typically at best a dozen of these are received by a very small number of Motus stations. It seems inevitable that in most cases researchers need to use tags with sensors that store the data on the tag, i.e., act as dataloggers, and then recover the data at some later point in time.</p>"},{"location":"whitepapers/Motus-data-tags/#tags-that-store-data","title":"Tags that store data","text":"<p>Dataloggers that do not need to be physically retrieved are of great interest and have lead to the development of \"short range download\" radio capabilities where a researcher in the vicinity of the animal can download the data over a radio link. This raise the question whether there is a role for Motus in this download process, e.g., does it make sense for tags to store the data and transmit it to Motus when arriving in range of a station.</p> <p>A good case can be made for adding such functionality to Motus, which is that the short-range download does not work for species with low site fidelity where the returning bird cannot be located and it also does not allow the data to be recovered when a bird leaves the area, or when a tag is eventually lost enroute.</p> <p>The difficulty with data download is that it requires two-way communication. The tag needs to know when it is in range of a station, and it needs to receive acknowledgments so it knows which data has been received so it can move on and transmit the next set of data records. Performing this two way communication is a very different mode of operation from current Motus stations which are receive-only.</p> <p>The existing 434Mhz hardware in Motus stations could technically be upgraded via software to support two-way communication and data download. However, the FCC rules (part 15.231e) for the 400Mhz band only support this type of operation at rather low power and require a delay of at least 10 seconds between transmissions. The result is that this placese severe constraints on the amount of data a tag could download while flying by a station.</p>"},{"location":"whitepapers/Motus-data-tags/#public-low-power-wide-area-networks-lp-wan","title":"Public Low-Power Wide-Area Networks (LP-WAN)","text":"<p>For this type of long distance radio communication the three technologies that have been most widely used are SixFox, LoRaWAN, and NB-IoT. Sigfox does not appear to be useful in this context due to extremely low data rates and its absense in north america. NB-IoT is based on cellular networks and while very interesting because of its widespread availability the power requirements exceed what 1 gram tags can support. LoRaWAN has been deployed in many regions of the world and addresses lower power devices than NB-IoT. It is the best suited for sub-gram bird trackers at this point in time.</p> <p>All three technologies are used for public networks, i.e. shared networks to which one can connect one's own device to communicate with one's own server. The network operates radio stations as well as back-end servers that route packets between users' devices and their application servers. In the case of Motus, the devices would be bird tracking tags and the application servers would be the Motus back-end servers.</p> <p>Most LoRaWAN public networks also support bringing one's own station, which means that Motus and researchers can set-up stations in areas of particular interest and these stations then supplement the network's existing stations.</p> <p>While LoRaWAN is used in public networks it is often also deployed privately. For example, municipalities can use a relatively small number of stations to cover a city area and use it to collect data from various types of meters and sensors.</p>"},{"location":"whitepapers/Motus-data-tags/#potential-benefits","title":"Potential benefits","text":"<p>Remote download of tag data does not require a public network and in fact several vendors offer GPS tags with remote download that operate using proprietary stations. There are several benefits to using public networks and/or public network technology:</p> <ul> <li>some data can be uploaded via public stations as birds migrate</li> <li>bird migration can be tracked using public network stations allowing researchers to set-up   mobile stations close to where the birds end up nesting or foraging, this reduces the guessing   around when and where birds migrate to</li> <li>in the case of LoRaWAN there is a lot of low-cost station equipment readily available which   makes setting up stations simple and economical</li> <li>the radio emissions regulations around public networks and their devices have been worked out   and software libraries implementing the various requirements are available</li> </ul>"},{"location":"whitepapers/Motus-data-tags/#lorawan","title":"LoRaWAN","text":"<p>LoRaWAN is an ITU network and modulation standard that has found significant adoption in most parts of the world. It is managed by the LoRa Alliance and enables device manufacturers to create devices independently of the network they end up being deployed to. It also enables organizations to deploy their own networks and use off-the-shelf devices.</p> <p>LoRaWAN uses radio chips very similar to the 434 Mhz ones Motus currently uses but they operate in the 900Mhz or 868Mhz range depending on region. The modulation scheme is spread spectrum enabling ranges of 20-50 km while using a single simple omnidirectional antenna. The main downside is that the data rate is very slow, often 1/10th of the current data rate used by Motus, which means that data transmissions use more energy per bit.</p> <p>An interesting aspect of LoRaWAN is that public networks have been deployed in several parts of the world, which means that a tag could transmit data to existing stations at a very modest cost. However, deployment in north america in particular is very spotty and it's not clear whether it will grow to become ubiquitous (see coverage maps further down). LoRaWAN is used by many local organizations (such as utility meters and controls) but often these organizations set-up their own network infrastructure instead of contracting with a public network. In general, many long distance tracking applications where public networks are needed are more easily served by cellular communications.</p> <p>The result is that there could be a very interesting role for Motus in complementing existing public LoRaWAN infrastructure by filling in the coverage gaps with stations in areas that are of interest to ornithologists.</p> <p>The most relevant project to date in the tracking of Griffon Vultures in Portugal and Spain conducted by J. Gauld et. al. from the University of East Anglia. They used LoRaWAN tags able to communicate with the public The Things Network but in the end opted to set-up their own stations using off-the-shel equipment.</p> <p>A new project is underway to track Guillemots using LoRaWAN off the coast of Anglesey (Wales) but no detailed information seems to have been published.</p>"},{"location":"whitepapers/Motus-data-tags/#sample-energy-analysis","title":"Sample energy analysis","text":"<p>The following table compares the energy consumption of a current Motus tag with a potential LoRaWAN tag that stores data. LoRaWAN has the interesting characteristic that the tag can decide at which data rate it transmits (there is a simple transmission duration vs. range tradeoff) and the table below only shows the duration of a typical 120 byte packet at a \"medium\" data rate. The point of the table is to show how the numbers differ by several orders of magnitude between the two types of tags.</p> Feature Motus tag Stored data tag Factor TX frequency 10 seconds 15 minutes 90x TX duration 3 ms 400 ms 130x TX energy 0.36mJ 12.7mJ 35x TX energy/day 3.1J 1.2J 3x battery capacity 100J(est) 7.2J 15x <p>(1J = 1 Joule = 1 Watt-second = 1/3.6 mWh)</p> <p>The way a tag would work (this is how the LoRaWAN GPS bio-loggers deployed on Griffon Vultures by J. Gauld et. al., U. of East Anglia worked) is as follows:</p> <ul> <li>the tag infrequently transmits an ID packet at a slow but long range data rate</li> <li>if a station receives the packet it responds with signal strength info (and records the detection   of the tag)</li> <li>if the signal strength is too low to support a faster data rate the tag continues to probe the   station at a slightly faster rate</li> <li>if the tag is close enough to the station it starts transmitting data at the highest reliable   data rate, possibly switching data rate as it gets closer and then further away again</li> </ul>"},{"location":"whitepapers/Motus-data-tags/#public-lorawan-network-coverage","title":"Public LoRaWAN network coverage","text":"<p>The following maps compare the coverage of several public LoRaWAN networks (with a US focus) and also show the corresponding Motus coverage. It is very evident from the maps that the public networks focus on populated areas and specifically on logistics hubs. In contrast, Motus stations focus on areas where birds are expected to be present or migrate through.</p> <p>Note that Amazon Sidewalk uses the same radio technology as LoRaWAN but uses a different set of network protocols. It is not clear at this point whether it could be used for bird tracking, i.e., whether the required Amazon certification could be obtained. It is also only deployed in the US at this stage.</p> <p>(Click on the maps to reach the official coverage map. Note that the Everynet map shows \"possible coverage\" in the light shade.)</p> <p> </p> <p>To-do: figure out whether the Helium network is an option.</p>"},{"location":"whitepapers/Motus-data-tags/#lorawan-upload-capacity","title":"LoRaWAN upload capacity","text":"<p>This section analyses how much data a tag can transmit per minute. The idea is that a bird flies by a station and is in radio range anywhere from a couple of minutes to 30-40 minutes. During this time the tag can upload data to servers but the data quantity that can be uploaded is limited by the transit time, tha data rate that can be achieved, and regulatory limitations. The question is whether it is reasonable to expect a significant proportion of the stored data to be uploaded or whether only a subset can be expected.</p> <p>Note</p> <p>This section is work-in-progress.</p>"},{"location":"whitepapers/Motus-data-tags/#us915-band-plan-americas","title":"US915 band plan (americas)","text":"<p>In the US LoRaWAN offers the following for uplinks:</p> <ul> <li>Modulation parameters SF7BW125 through SF10BW125, typ 8 channels, 400ms max dwell time   per channel</li> <li>Also available: SF8BW500, typ. 1 channel</li> </ul> <p>Maximum payload size per data rate and resulting maximum data transferred per minute, assuming a 400ms packet every second:</p> DR params app payload KB/minute 0 SF10BW125 11 0.6 1 SF9BW125 53 3 2 SF8BW125 125 7 3 SF7BW125 222 13 4 SF8BW500 222 26"},{"location":"whitepapers/Motus-data-tags/#sample-calculations","title":"Sample calculations","text":"<ul> <li>GPS fix represented using 10 bytes</li> <li>Snapshot GPS recording represented using 48 bytes</li> <li>Assume 10 minute periods, for example, a bird may fly by a station in 30 minutes and have 10 minutes   at each of DR 0, 2, and 4.</li> </ul> DR Fixes/10min Recordings/10min 1 300 64 3 1300 225 4 2600 550"},{"location":"whitepapers/Motus-data-tags/#eu868-band-plan-europe","title":"EU868 band plan (Europe)","text":"<ul> <li>Modulation parameters SF7BW125 through SF12BW125, typ 8 channels, 1% duty cycle per sub-band (2)</li> <li>Also available: FSK, type 1 channel, 0.1% max duty cycle</li> </ul> DR params app payload air time KB/minute 0 SF12BW125 51 2794ms 0.02 1 SF11BW125 51 1561ms 0.04 2 SF10BW125 51 698ms 0.08 3 SF9BW125 115 677ms 0.2 4 SF8BW125 242 215ms 1.3 5 SF7BW125 242 118ms 2.4 7 FSK 50kbps 242 42ms 0.34 <p>The above table assumes the duty cycle limits as they apply to The Things Network bandplan. There is an alternative, which is listen-before-talk that removes the duty cycle limitation, it is not clear what the ramifications of this option are. In addition, there is a relatively new (2020?) allocation without duty cycle limitation but with transmit power limitations in a portion of the band not used by The Things Network and it could be used by privately set-up stations. (It's complex!)</p> <p>References:</p> <ul> <li>LoRaWAN regional parameters</li> <li>The Things Network fundamentals TTN frequency plans</li> <li>FCC title 47 section 15.247</li> <li>ETSI EN 300 220-2 (Annex B is the most readable)</li> </ul>"},{"location":"whitepapers/extending-motus-protocol/","title":"Proposal for Extending the Motus CTT packet format","text":"<p>Thorsten von Eicken, 7/11/2024</p> <p>The original packet format used by the Cornell/CTT FSK tags only transmits the tag ID and is not extensible per-se. This proposal extends the format by using some tricks.</p> <p>The packet extension has been designed with the thought that the Motus stations can become a data collection network where any data sent by tags in the vicinity can be captured, relayed, stored, and made available. The data can hold information about air pressure, animal activity, gps location, cell location, temperature, heart rate, VOC or other chemical air composition, or anything else.</p> <p>An important constraint for the extension design is to keep backwards compatibility: existing stations should be able to receive the transmissions of new \"data\" tags (just without the data portion) and new receivers should be able to receive the transmissions of old \"data-less\" tags.</p>"},{"location":"whitepapers/extending-motus-protocol/#current-packet-format","title":"Current packet format","text":"<p>The current packet format consists of:</p> <ul> <li>2 byte preamble (alternating 1's and 0's to synchronize the bit clock)</li> <li>2 byte sync (fixed value to detect the start of actual packet bits)</li> <li>4 byte ID (the CTT tag ID)</li> <li>1 byte CRC (SMBUS version, can detect up to 4 bit errors)</li> </ul> <p>Total: 9 bytes</p> <p>The 4-byte ID can encode 2^20 distinct values. Each byte encodes 5 bits using the dictionary: [ 0x00, 0x07, 0x19, 0x1e, 0x2a, 0x2d, 0x33, 0x34, 0x4b, 0x4c, 0x52, 0x55, 0x61, 0x66, 0x78, 0x7f, 0x80, 0x87, 0x99, 0x9e, 0xaa, 0xad, 0xb3, 0xb4, 0xcb, 0xcc, 0xd2, 0xd5, 0xe1, 0xe6, 0xf8, 0xff ]. CTT seems to use the hex form of the encoded value as \"tag ID\" (as opposed to the 2^20 values).</p>"},{"location":"whitepapers/extending-motus-protocol/#proposed-packet-format","title":"Proposed packet format","text":"<p>The proposed packet format adds more bytes to the end of the current packet, terminated by a 16-bit CRC. At the receiving end the full length is always received, then the two CRCs are checked and a determination is made whether the received bytes hold an original short packet, a long packet, or no packet (noise).</p> <p>The specific format proposed is:</p> <ul> <li>original 9 bytes</li> <li>1 byte format (4 bits format and 4 bits sub-format or data)</li> <li>10 bytes data</li> <li>2 bytes CRC16 (DNP version, can detect up to 6 bit errors, calculated over entire packet starting with ID)</li> </ul> <p>Total: 22 bytes</p>"},{"location":"whitepapers/extending-motus-protocol/#shorter-packet-enhancement","title":"Shorter packet enhancement","text":"<p>In order to support packet lengths longer than the original CTT 9 bytes but shorter than the 22 bytes the formats could be grouped into lengths. For example:</p> <ul> <li>formats 1-4: 14 bytes total, provides 2 bytes of data</li> <li>formats 5-8: 16 bytes total, provides 4 bytes of data</li> <li>formats 9-12: 18 bytes total, provides 6 bytes of data</li> <li>formats 13-15: 22 bytes total, provides 10 bytes of data</li> </ul>"},{"location":"whitepapers/extending-motus-protocol/#packet-format-considerations","title":"Packet format considerations","text":"<p>This packet format was chosen with the following considerations:</p> <ul> <li>compatibility with current packet format, such that old receivers can receive the ID (no data)   of new tags and new receivers can receive the ID of old tags</li> <li>the total length is roughly 2x the original length so not a high multiplier in TX energy   requirement and also not a high addition of receiver \"deaf time\" when only short packets   are in the air</li> <li>10 bytes can hold a meaningful amount of data, incl GPS or some historical data</li> <li>the 16-bit CRC can detect up to 6 bit errors for packet sizes up to 16 bytes, this format   maximizes the use of the CRC</li> </ul> <p>Normally variable-length FSK packets start with a length byte and receivers have support to automatically stop RX at that length, but this is not an option if compatibility with existing tags is desired.</p> <p>Note: it may be possible to define other packet lengths using this same scheme, for example, packet format 0 could be shorter and tack-on just a 12-bit or 20-bit data value and CRC.</p>"},{"location":"whitepapers/extending-motus-protocol/#appendix-fsk-transmission-parameters","title":"Appendix: FSK transmission parameters","text":"<ul> <li>frequency: 434.0 Mhz</li> <li>bit rate: 25kbps</li> <li>deviation: 25kHz (single-sided i.e. MI=2)</li> <li>channel bandwidth: 50kHz (double-sided) [note: need to double-check!]</li> <li>NRZ &amp; no whitening, MSB transmitted first</li> </ul>"},{"location":"whitepapers/tag-manufacturing-costs/","title":"Manufacturing tags and costs","text":"<p>To manufacture the tags in small qty (10-100) the best option is to use PCB prototyping services that manufacture the FlexPCBs and assemble surface mount components. The result is that all the tiny surface mount components are machine placed and soldered. The remaining assembly is to solder large components to the tag: solar cell, battery, and antenna.</p> <p>The next step is to protect the tag from moisture with conformal coating, typically by spraying on or dipping the tag into an acrylic or epoxy compound. In addition, a prepared fiberglass veil should be placed over the electronic components to stiffen the tag and smoothen over the sharp edges of the components.</p> <p>Finally the tag needs to be tested, which involves loading test firmware that can exercise all the functions. For a proper test the tag needs to be cycled through various environments such as different GPS signal quality as well as various sunlight exposures and the tag's performance needs to be monitored over several days. Properly functioning tags can then be programmed with the final firmware and configured as desired.</p> <p></p>"},{"location":"whitepapers/tag-manufacturing-costs/#costs","title":"Costs","text":"<p>The cost to manufacture the tags is shockingly low compared to commercial GPS tags that typically have a price tag above $1000. This is because the manual assembly and testing tasks are performed by the user and the software is provided for free, i.e., there is no charge for the non-recurring engineering costs. The bottom line is that even in small quantities the tags should cost less than $70, possibly as low as $30-$40.</p> <p>The biggest caveat about the price is the manufacturing risk. If a batch of tags ends up not working due to an error it is unlikely that one can recover much of the costs. The PCB manufacturer may reimburse some of the assembly costs but that still leaves the cost of all the components.</p>"},{"location":"whitepapers/tag-operation/","title":"Tag operation","text":"<ul> <li>Is a 1 gram or lighter GPS + radio tag possible? Yes! But...</li> <li>it requires a whole systems approach tailored to the study objectives</li> <li>it requires planning and compromises</li> <li>Expected functionality:</li> <li>collect multiple GPS fixes per day</li> <li>store GPS fixes on-board</li> <li>transmit GPS fixes via radio when in range of station</li> <li>Caveats</li> <li>GPS is power hungry, so is radio transmission: at 1 gram and below the power budget is very limited</li> <li>expect a handful of fixes per day </li> <li>expect dozens of fixes transmitted by radio</li> <li>expect to craft a schedule that attempts to acquire GPS fixes when useful to the study objectives</li> <li>Use solar, smarts and sensors to overcome limited power budget</li> <li>collect fixes when bird is flying</li> <li>use geo-fencing to gate fix acquisition</li> </ul>"},{"location":"whitepapers/ultra-lightweight-gps-tags/","title":"Ultra-lightweight GPS bird tags","text":"<p>As of 2024 the smallest commercially available GPS tags with radio download of the data weigh over 2 grams. Is it at all possible to create such GPS+radio tags that weigh under 1 gram?</p> <p>There are several limiting factors to GPS and radio tags. The main one is power consumption and addressing it requires a whole system engineering approach.</p>"},{"location":"whitepapers/ultra-lightweight-gps-tags/#power-consumption","title":"Power consumption","text":"<p>The power consumption of a GPS device poses two issues when it comes to using tiny batteries. The instantaneous power consumption (e.g. watts) exceeds the capabilities of most small batteries and the total energy consumption (e.g. watt-hours) strains what can be stored on a sub-gram tag. Both issues apply to the radio used to download the data from a distance just as well, after all, a GPS device is primarily a radio with some fancy signal processing.</p>"},{"location":"whitepapers/ultra-lightweight-gps-tags/#snapshot-gps","title":"Snapshot GPS","text":"<p>Another issue with GPS is the updating of satellite data. In order to calculate a fix a GPS device needs to know the exact orbit data of the satellites and keeping this data up-to-date places a lower bound on the amount of time the GPS device has to be turned on per day, which in turn places a lower bound on the daily energy requirements.</p> Time to acquire a GPS fix when asking the GPS for a fix every 75 minutes.   Many fixes take around 4 to 14 seconds but every couple of hours the GPS takes around 30 seconds   to acquire a fix because it first needs to receive the satellite orbit information (ephemeris).    <p>To be specific, the orbit data for each satellite is valid for 3-4 hours and takes 6 seconds to receive and there are around 24 satellites that need to be used over the course of a day. State of the art GPS receivers can produce a fix in as little as 4 seconds from wake-up if they have all the up-to-date data, but if they don't they first have to receive the 6-second information for all satellites in view before they can calculate a fix. The result is an on-time of around 30 seconds assuming good reception.</p> <p>The solution to this problem is not to calculate a fix in the device. This is sometimes called \"snapshot GPS\": the device records the satellite signal timing, stores it locally together with an acquisition timestamp, and once this information is retrieved from the device a cloud service combines it with satellite orbit data to calculate the position. The result is that the GPS device only needs to turn on for about 4 seconds when a position is desired but the downside is that the device doesn't get to know its position and thus cannot implement features such as geofencing.</p>"},{"location":"whitepapers/ultra-lightweight-gps-tags/#high-current-batteries","title":"High current batteries","text":"<p>A fundamental issue with pretty much all radios on sub-gram tags is the instantaneous power consumption during transmit and receive. Modern radio integrated circuits consume on the order of 6-10mA @3.3V when receiving and up to 20mA when transmitting (at 5-10dBm). These short high current peaks clash with the fact that sub-gram batteries are designed to produce tiny constant currents for a long time, for example to provide battery backup for memory or to power hearing aids. The current these batteries can provide is measured in \u00b5A, for example a 0.11g SR416SW battery (1.55V) is designed for a discharge current of 10\u00b5A.</p> <p>In typical coded VHF or UHF radio tags the low power capabilities of the batteries is compensated for by using a large capacitor to power the radio transmission. Basically the battery charges the capacitor and the transmission uses this charge, after which the capacitor is recharged slowly from the battery. Aside from reliability issues due to the strain on the battery during the capacitor recharge, this is only feasible for very short transmissions of less than around 10ms (e.g. Lotek tags use 2.5ms pulses and CTT tags transmit their ID in 2.8ms). The use of a capcitor is not a solution to power a GPS for several seconds.</p> <p>One solution is to use recently introduced rechargeable Lithium Titanium Oxide (LTO) batteries. These batteries are related to the common Li-Ion batteries found in many high-power consumer electronics but have even higher current capabilities at the expense of a somewhat lower energy density. There are miniature LTO batteries available that weight 0.16g and are designed to provide 16mA at 2.5V, which is just enough to power a GPS or a radio transmission.</p> <p>The downside of the rechargeable LTO batteries is that they hold only 10th the energy as compared to the best non-rechargeable cells. The work-around used in RadioJay tags is a combination of smart scheduling of GPS activations as well as solar recharge.</p> <p>The use of solar recharge is a mixed bag: on the one hand it allows tags to function \"forever\" (until they fall off...) but on the other hand they cannot be used on nocturnal species, such as bats, and they may not function adequately on species where the flight feathers tend to cover the solar cell. Implementing a solar cell also requires space and thus weight, both for the solar cell itself as well as for the charging circuit that boosts the solar cell voltage to a level appropriate for charging a battery.</p> <p>Tiny solar cells are difficult to source in small quantities for DIY tags. The industry is focused on ever larger cells and panels to power grid applications. Nevertheless very lightweight amorphous silicon cells are available that weigh just under 0.1g. This technology produces less power per area than monocrystalline cells but performs better in shaded conditions (and most likely when partially obscured under feathers).</p>"},{"location":"whitepapers/ultra-lightweight-gps-tags/#1-gram-gps-tag-composition","title":"1 gram GPS tag composition","text":"<p>In order to produce a 1 gram tag clearly the lightest possible components must be used. Some of the fixed weights are the battery, solar cell, antennas, and the attachments method, such as leg loop or glue blob.</p> <p>The parts that can be optimized or compromised on are the printed circuit board (PCB), the coating/housing, and the attachment method. The weight of the PCB is a function of its area and thickness. To reduce the area the smallest and most integrated solutions must be chosen and all optional components must be eliminated.</p> <p>Routine manufacturing is possible down to components smaller than 1mmx1mm as well as ball-grid-arrays (BGA). The PCB thickness is more of an issue because prototyping services offer 0.6mm thickness as the minimum before prices rise dramatically. However, recently flexible PCBs (FlexPCB) that are under 0.2mm thick have become available: these are normally used to produce flat wires with many conductors used in equipment like laptops, screens, phones, etc.</p> <p>The FlexPCBs can hold components but have the issue that larger ICs, such as microcontrollers, do not tolerate flexing. The proposed solution is to use a fiberglass veil (very thin fiberglass fabric in an epoxy matrix) to add stiffening and to smoothen the surface of the tags. Mmore experimentation and real-world experience is needed. Using a conventional plastic housing or epoxy potting is not feasible given the weight constraints.</p> <p> </p> component grams PCB 0.20 chips&amp;solder 0.24 battery 0.16 solar cell 0.10 coating 0.10 antennas 0.11 leg loop 0.09 <p></p>"}]}